import{_ as F,r as C,o as l,d as u,w as d,f as c,M as N,G as T,h as k,H as B,Q as S,N as R,i as O,k as z,t as y,I as Q,J as E,aU as V,p as b,F as I,u as x,aV as A,C as n,K as j,aW as M,D as U,a8 as h,ad as L,aX as W,aY as H,ak as J,aZ as Y,a_ as X,a$ as G,e as g,b0 as Z,b1 as K,b2 as $,s as ee,j as te,l as oe,Y as se,Z as ae}from"./index.8ba5bd75.js";import{F as re,B as ie,C as ne}from"./RodapeSite.23026991.js";import"./open-url.ae951dbd.js";const le={data(){return{estaAberto:!1,exibeBotaoAddNoCarrinho:!1,produto:{},produtosParaComprarJunto:{},urlsImagenId:null}},methods:{async abrir(o,t,a,s){var p;const e=[],r=await $db.arquivo.lista({tipoArquivo:"itemImagem",idTabelaMaster:o.id});for(const m of r)m.id!=o.id&&e.push({id:m.id,url:`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${m.name}`});this.urlsImagenId=((p=e[0])==null?void 0:p.id)||null,this.produto={...o,urlImagem:s,urlsImagen:e},this.produtosParaComprarJunto={...t},this.exibeBotaoAddNoCarrinho=a,this.estaAberto=!0,this.$emit("abriu",o.id)},salvarNoCarrinho(){this.$emit("salvarNoCarrinho",{produtoSelecionado:this.produto,outrosProdutos:this.produtosParaComprarJunto})}}},de=["src"],ce=["src"];function ue(o,t,a,s,e,r){const p=C("g-col"),m=C("g-row");return l(),u(U,{modelValue:e.estaAberto,"onUpdate:modelValue":t[1]||(t[1]=_=>e.estaAberto=_),onHide:t[2]||(t[2]=_=>o.$emit("fechou"))},{default:d(()=>[c(N,{view:"hHh LpR fFf",container:"",class:"bg-white"},{default:d(()=>[c(T,null,{default:d(()=>[c(k,null,{default:d(()=>[B(c(S,{icon:"arrow_back",flat:"",round:"",dense:""},null,512),[[R]]),c(O,null,{default:d(()=>[z(y(e.produto.descricao),1)]),_:1})]),_:1})]),_:1}),c(Q,null,{default:d(()=>[c(E,null,{default:d(()=>{var _,q,D;return[((_=e.produto)==null?void 0:_.urlsImagen)&&((D=(q=e.produto)==null?void 0:q.urlsImagen)==null?void 0:D.length)?(l(),u(V,{key:0,modelValue:e.urlsImagenId,"onUpdate:modelValue":t[0]||(t[0]=v=>e.urlsImagenId=v),swipeable:"",navigation:"",arrows:"","transition-prev":"scale","transition-next":"scale",class:"no-shadow","control-color":"tertiary",style:{position:"absolute",width:"100%",height:"100%"}},{default:d(()=>{var v;return[(l(!0),b(I,null,x((v=e.produto)==null?void 0:v.urlsImagen,i=>(l(),u(A,{key:i.id,name:i==null?void 0:i.id,class:"column no-wrap flex-center"},{default:d(()=>[n("img",{src:i==null?void 0:i.url,style:{display:"block",width:"100%",margin:"0 auto"}},null,8,de)]),_:2},1032,["name"]))),128))]}),_:1},8,["modelValue"])):(l(),u(m,{key:1,gutter:"md",items:"center",width:"100%",height:"100%",style:{position:"absolute"}},{default:d(()=>[c(p,null,{default:d(()=>{var v;return[n("img",{src:(v=e.produto)==null?void 0:v.urlImagem,style:{display:"block",width:"100%",margin:"0 auto"}},null,8,ce)]}),_:1})]),_:1}))]}),_:1})]),_:1}),c(j,{class:"bg-white text-tertiary"},{default:d(()=>[c(k,{class:"text-h5 text-weight-bold border-top"},{default:d(()=>[c(M),n("span",null,"R$ "+y(o.$filters.numero(e.produto.valorVenda,2)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}var he=F(le,[["render",ue]]);const pe={},me=n("h5",null," IMAGEM DE CLUB INATIVO VAI AQUI ",-1),fe=[me];function ge(o,t){return l(),b("div",null,fe)}var be=F(pe,[["render",ge]]);const _e=[h("rect",{y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"60",width:"15",height:"140",rx:"6"},[h("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})]),h("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},[h("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),h("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})])];var ve=L({name:"QSpinnerBars",props:W,setup(o){const{cSize:t,classes:a}=H(o);return()=>h("svg",{class:a.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg"},_e)}});const we={components:{FooterSite:re,BarraTopoEmpresa:ie,CarrinhoCompras:ne,DetalhesDoProduto:he,ClubInativo:be},data(){return{slide:J("1"),dados:{},banco:"",contatos:[],contatoPrincipal:{telefone:{}},gruposItens:{},filterSelect:"",filterOptions:[],openedF:!1,mostrarLogo:!1,qtd:{},contato:[],formasPagamento:[],item:[],urlImagemItem:{},carrinhoItens:{},carregando:!0,possuiWhatsapp:!1,possuiCarrinho:!1,searchText:""}},methods:{searchProduct(o){const t=$utils.tratamentoCompletoString(o).split(" ");let a=$utils.clonarV2(this.gruposItensOriginal),s={};if(t.length>0||(s=a),t.length>0)for(const e in a)for(const r of a[e]){const p=$utils.tratamentoCompletoString(r.descricaoConcatenada);let m=!0;for(const _ of t)if(!~p.indexOf(_)){m=!1;break}!m||(s[e]||(s[e]=[]),s[e].push(r))}this.gruposItens=Object.fromEntries(Object.entries(s).sort(([e],[r])=>e.localeCompare(r)).map(([e,r])=>[e,r.sort((p,m)=>p.descricao.localeCompare(m.descricao))]))},injetarIdDoProdutoNaURL(o){const t=`${window.location.protocol}//${window.location.host}${window.location.pathname}?produtoId=${o}`;window.history.pushState({path:t},"",t)},limparIdDoProdutoDaURL(){const o=`${window.location.protocol}//${window.location.host}${window.location.pathname}`;window.history.pushState({path:o},"",o)},abrirProdutoInjetadoNaURL(){const{produtoId:o}=this.$route.query;if(!o)return;const t=this.item.find(a=>a.id===o);!t||this.verDetalhesDoProduto(t)},async atualizar(){var a;const o=await this.$utils.geeksApi({site:{funcao:"639A3247-947F-41F7-97E3-296A8C5BCFED"},itens:{funcao:"6AA367D8-5683-48B5-8F35-75B4FF37DEFD"}},{bancoDeDados:this.banco,convidado:!0});this.dados=o.data.site,(a=this.dados.carrossel)!=null&&a.length&&(this.slide=this.dados.carrossel[0].id),this.carregando=!1,this.contatoPrincipal=this.dados.contatoPrincipal,this.possuiWhatsapp=!!this.dados.telefoneWhatsapp,this.contatos=this.dados.contatoEmpresasSite,this.dados.formasPagamento.map(s=>{s.ativoSite&&this.formasPagamento.push({rotulo:s.descricao,valor:s.id})});for(const s of this.dados.itens){const e=`https://southamerica-east1-b15node-178618.cloudfunctions.net/storage/${this.banco}/vitrine/${s}`;this.urlImagemItem[s]=e}const t=o.data.itens;this.montarGrupos(t)},zerarProdutosQueEstavamNoCarrinho(o){for(const t of o)this.qtd[t]=0;this.carrinhoItens={},this.openedF=!1},updateCart(o,t){this.$refs.carrinho.atualizarCarrinho(o,t),this.carrinhoItens[o.id]={...o,quantidade:t};const a=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!a,Object.keys(this.carrinhoItens).reduce((s,e)=>s+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},carrinhoAtualizado(o){this.carrinhoItens=o;for(const a of Object.keys(o))this.qtd[a]=o[a].quantidade;const t=Object.keys(this.carrinhoItens).length;this.openedF=!this.$q.platform.is.mobile&&!!t,Object.keys(this.carrinhoItens).reduce((a,s)=>a+this.carrinhoItens[s].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},removerItemDoCarrinho(o){this.qtd[o]=0,delete this.carrinhoItens[o],Object.keys(this.carrinhoItens).length||(this.openedF=!1),Object.keys(this.carrinhoItens).reduce((t,a)=>t+this.carrinhoItens[a].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},onFilterChange(){this.goToAnchor(this.filterSelect)},montarGrupos(o){let t=[];for(const s of this.dados.itens){const e=o.find(r=>r.id===s);!e||t.push(e)}this.item=t,o=Y.exports.orderBy(this.item,"descricao","asc");let a={};o.map(s=>{const e=(s==null?void 0:s.grupo)||"Outros";a[e]||(a[e]=[],this.filterOptions=[...this.filterOptions,{label:e,value:this.criarSlug(e)}].sort((r,p)=>r.label.localeCompare(p.label))),a[e].push(s)}),a=Object.fromEntries(Object.entries(a).sort(([s],[e])=>s.localeCompare(e)).map(([s,e])=>[s,e.sort((r,p)=>r.descricao.localeCompare(p.descricao))])),this.gruposItens=a,this.gruposItensOriginal=$utils.clonarV2(a);for(const s of t)this.qtd[s.id]=0;for(const s of Object.keys(this.carrinhoItens))this.qtd[s]=this.carrinhoItens[s].quantidade;Object.keys(this.carrinhoItens).reduce((s,e)=>s+this.carrinhoItens[e].quantidade,0)!==0?this.possuiCarrinho=!0:this.possuiCarrinho=!1},async verDetalhesDoProduto(o){const t=this.pegarProdutosRandomicosParaComprarJunto(o),a={...o,quantidade:this.qtd[o.id]};this.$refs.detalhesDoProduto.abrir(a,t,this.possuiWhatsapp,this.urlImagemItem[o.id])},salvarProdutosDaModalDeDetalhes(o){const{produtoSelecionado:t,outrosProdutos:a}=o;this.carrinhoItens[t.id]=t,this.qtd[t.id]=t.quantidade,this.updateCart(t,t.quantidade);for(const s of Object.keys(a)){const e=a[s];this.carrinhoItens[e.id]=e,this.qtd[e.id]=e.quantidade,this.updateCart(e,e.quantidade)}},pegarProdutosRandomicosParaComprarJunto(o){const t=this.item.sort((e,r)=>.5-Math.random()),a={};let s=0;for(const e of t){if(s>3)break;e.id!==o.id&&!this.qtd[e.id]&&(a[e.id]={...e,quantidade:0},s++)}return a},irParaProdutos(){const o=this.filterOptions[0].value;this.goToAnchor(o)},criarSlug(o){return X(o.replace(" ",""))},goToAnchor(o){document.getElementById(o).scrollIntoView({behavior:"smooth"})},injetarTags(){const{codigoTagHead:o,codigoTagBody:t}=this.dados.marketingDigital;o&&document.head.insertAdjacentHTML("beforeend",o),t&&document.body.insertAdjacentHTML("afterend",t)},pesquisaPorVozExiste(){return!!(window.SpeechRecognition||window.webkitSpeechRecognition)},pesquisaPorVoz(){$q.loading.show({spinner:ve,spinnerColor:"primary",spinnerSize:140,backgroundColor:"white"});const o=window.SpeechRecognition||window.webkitSpeechRecognition;if(!o)return;const t=new o;t.continuous=!0,t.start(),t.onresult=a=>{const s=a.resultIndex,e=a.results[s][0].transcript;this.searchText=e,this.searchProduct(e)},setTimeout(()=>{t.stop(),$q.loading.hide()},5e3)}},async created(){const o=await $db.vitrine.ler();this.banco=o.find(a=>`/${a.url}`===this.$route.path).banco,localStorage.getItem("bancoDeDados")||localStorage.setItem("bancoDeDados",JSON.stringify(this.banco)),await this.atualizar(),this.injetarTags(),this.abrirProdutoInjetadoNaURL()}},Ce=o=>(se("data-v-1dd50cdb"),o=o(),ae(),o),ye={class:"u-container q-px-sm"},Ie={class:"u-container q-px-none"},xe={class:"hideonmobile"},Pe={class:"hideondesktop"},qe={class:"bg-light q-pb-md q-pt-xl"},De={class:"u-container"},ke={id:"slogan"},Se={class:"q-display-1 text-primary q-mt-lg q-mb-xl text-center"},Ve={class:"text-subtitle1 text-tertiary q-mb-xl text-center",style:{"font-weight":"400"}},Ae={class:"q-pa-md q-my-none q-mx-auto",style:{"max-width":"999px"}},Fe={id:"produtos"},Ne=["id"],Te={class:"text-h6 text-tertiary q-ma-none"},Oe={class:"row q-col-gutter-md items-stretch q-py-md products"},Qe={class:"row full-height bg-white rounded-borders overflow-hidden shadow-14 arredondado"},je=["onClick"],Be=["src"],Re=["onClick"],ze=["onClick"],Ee={class:"text-h5 text-right text-tertiary"},Me={class:"col-12 self-end q-px-sm"},Ue={id:"mapaD"},Le={class:"row"},We=Ce(()=>n("div",{class:"text-body1 q-mr-sm"},"Total",-1)),He={class:"text-body1 q-mr-sm"};function Je(o,t,a,s,e,r){const p=C("carrinho-compras"),m=C("BarraTopoEmpresa"),_=C("campo"),q=C("FooterSite"),D=C("DetalhesDoProduto"),v=C("ClubInativo");return l(),b(I,null,[e.carregando?(l(),u(G,{key:0,color:"primary",size:"10em",style:{"-moz-transform":"translateX(-50%) translateY(-50%)","-webkit-transform":"translateX(-50%) translateY(-50%)","-o-transform":"translateX(-50%) translateY(-50%)","-ms-transform":"translateX(-50%) translateY(-50%)",transform:"translateX(-50%) translateY(-50%)",position:"fixed",top:"50%",left:"50%"}})):g("",!0),e.dados.ativo?(l(),u(N,{key:1,class:"Club",id:"ClubeSingle",view:"lHr lpR lFr"},{default:d(()=>[c(T,null,{default:d(()=>[n("div",ye,[e.mostrarLogo?g("",!0):(l(),u(Z,{key:0,"inline-label":"","indicator-color":"transparent","mobile-arrows":"","outside-arrows":"",align:"left",class:"bg-primary text-white no-shadow"},{default:d(()=>[(l(!0),b(I,null,x(e.filterOptions,(i,w)=>(l(),u(K,{flat:"","text-color":"white",name:i.label,label:i.label,key:w,onClick:f=>r.goToAnchor(i.value)},null,8,["name","label","onClick"]))),128))]),_:1}))])]),_:1}),e.possuiWhatsapp?(l(),u($,{key:0,modelValue:e.openedF,"onUpdate:modelValue":t[0]||(t[0]=i=>e.openedF=i),side:"right",bordered:""},{default:d(()=>[c(p,{ref:"carrinho",onCarrinhoAtualizado:r.carrinhoAtualizado,onItemRemovido:r.removerItemDoCarrinho,onCarrinhoLimpado:r.zerarProdutosQueEstavamNoCarrinho,formasPagamento:e.formasPagamento,contatoPrincipal:e.contatoPrincipal,banco:e.banco},null,8,["onCarrinhoAtualizado","onItemRemovido","onCarrinhoLimpado","formasPagamento","contatoPrincipal","banco"])]),_:1},8,["modelValue"])):g("",!0),c(Q,null,{default:d(()=>[n("div",Ie,[c(m,{contatoPrincipal:e.contatoPrincipal,onVerProdutos:r.irParaProdutos,onVerEndereco:t[1]||(t[1]=i=>r.goToAnchor("mapaD"))},null,8,["contatoPrincipal","onVerProdutos"])]),n("div",xe,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(V,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[2]||(t[2]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"480px",class:"bg-primary text-white no-shadow hideonmobile",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),b(I,null,x(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),n("div",Pe,[e.dados.carrossel&&e.dados.carrossel.length?(l(),u(V,{key:0,modelValue:e.slide,"onUpdate:modelValue":t[3]||(t[3]=i=>e.slide=i),"transition-prev":"scale","transition-next":"scale","control-color":"white",height:"280px",class:"bg-primary text-white shadow-1 rounded-borders",swipeable:"",animated:"",navigation:"",padding:"",arrows:""},{default:d(()=>[(l(!0),b(I,null,x(e.dados.carrossel,i=>(l(),u(A,{key:i.id,name:i.id,"img-src":i.imagemB64,class:"column no-wrap flex-center"},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),n("div",qe,[n("div",De,[n("div",ke,[n("div",Se,y(e.dados.slogan),1),n("div",Ve,y(e.dados.descricao),1)]),n("div",Ae,[c(ee,{debounce:500,outlined:"",modelValue:e.searchText,"onUpdate:modelValue":[t[4]||(t[4]=i=>e.searchText=i),r.searchProduct],placeholder:"Pesquisar por produto",class:"bg-white"},{append:d(()=>[r.pesquisaPorVozExiste?(l(),u(S,{key:0,onClick:r.pesquisaPorVoz,icon:"mic",size:"lg",flat:"",round:"",dense:"",color:"primary"},null,8,["onClick"])):g("",!0),c(te,{name:"search",size:"md",color:"primary",class:"q-mr-sm"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),n("div",Fe,[(l(!0),b(I,null,x(e.gruposItens,(i,w)=>(l(),b("section",{key:w,id:r.criarSlug(w),class:"q-px-sm q-pb-none q-pt-xl"},[n("div",Te,y(w),1),n("div",Oe,[(l(!0),b(I,null,x(i,f=>(l(),b("div",{class:"col-6 col-sm-4 col-md-2 q-mb-md",key:f.id},[n("div",Qe,[n("div",{onClick:P=>r.verDetalhesDoProduto(f),class:"col-12 self-start cursor-pointer"},[n("img",{src:this.urlImagemItem[f.id],style:{width:"100%",margin:"0 auto",display:"block"}},null,8,Be)],8,je),n("div",{onClick:P=>r.verDetalhesDoProduto(f),style:{"min-height":"50px"},class:"col-12 self-start text-tertiary q-pt-sm q-px-sm cursor-pointer"},y(f.descricao),9,Re),n("div",{onClick:P=>r.verDetalhesDoProduto(f),class:"col-12 self-end q-pt-sm q-pb-xs q-px-sm cursor-pointer"},[n("div",Ee,[n("b",null,"R$ "+y(o.$filters.numero(f.valorVenda,2)),1)])],8,ze),n("div",Me,[e.possuiWhatsapp?(l(),u(oe,{key:0,class:"full-width"})):g("",!0),e.possuiWhatsapp?(l(),u(_,{key:1,modelValue:e.qtd[f.id],"onUpdate:modelValue":[P=>e.qtd[f.id]=P,P=>r.updateCart(f,e.qtd[f.id])],min:"0",tipo:"quantidade",borderless:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])):g("",!0)])])]))),128))])],8,Ne))),128))])])]),n("div",Ue,[c(q,{"contato-principal":e.contatoPrincipal},null,8,["contato-principal"])])]),_:1}),e.possuiWhatsapp&&e.possuiCarrinho?(l(),u(j,{key:1,class:"mobile-only",bordered:"",color:"primary"},{default:d(()=>[c(k,null,{default:d(()=>[c(O,null,{default:d(()=>[n("div",Le,[We,n("div",He,"R$ "+y(o.$filters.numero(Object.keys(e.carrinhoItens).reduce((i,w)=>i+e.carrinhoItens[w].quantidade*e.carrinhoItens[w].valorVenda,0),2)),1)])]),_:1}),c(S,{label:"Finalizar",color:"white","text-color":"primary",onClick:t[5]||(t[5]=i=>e.openedF=!e.openedF),unelevated:""})]),_:1})]),_:1})):g("",!0)]),_:1})):g("",!0),c(D,{ref:"detalhesDoProduto",onSalvarNoCarrinho:r.salvarProdutosDaModalDeDetalhes,onAbriu:r.injetarIdDoProdutoNaURL,onFechou:r.limparIdDoProdutoDaURL},null,8,["onSalvarNoCarrinho","onAbriu","onFechou"]),!e.dados.ativo&&!e.carregando?(l(),u(v,{key:2})):g("",!0)],64)}var Ze=F(we,[["render",Je],["__scopeId","data-v-1dd50cdb"]]);export{Ze as default};
